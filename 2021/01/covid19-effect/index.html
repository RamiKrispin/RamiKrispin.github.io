<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.66.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Rami Krispin">
<meta name="keywords" content="R, sfo, time series">
<meta name="description" content="The Covid19 pandemic had, and unfortunately still have, a significant impact on most of the major industries. While for some sectors, the impact was positive (such as online retails, internet and steaming providers, etc.), it was negative for others (such as transportation, tourism, entertainment, etc.). In both cases, we can leverage time series modeling to quantify the effect of the Covid19 on the sector.">


<meta property="og:description" content="The Covid19 pandemic had, and unfortunately still have, a significant impact on most of the major industries. While for some sectors, the impact was positive (such as online retails, internet and steaming providers, etc.), it was negative for others (such as transportation, tourism, entertainment, etc.). In both cases, we can leverage time series modeling to quantify the effect of the Covid19 on the sector.">
<meta property="og:type" content="article">
<meta property="og:title" content="Quantify the Covid19 Impact on the SFO Airport Passenger Air Traffic">
<meta name="twitter:title" content="Quantify the Covid19 Impact on the SFO Airport Passenger Air Traffic">
<meta property="og:url" content="/2021/01/covid19-effect/">
<meta property="twitter:url" content="/2021/01/covid19-effect/">
<meta property="og:site_name" content="Rami Krispin">
<meta property="og:description" content="The Covid19 pandemic had, and unfortunately still have, a significant impact on most of the major industries. While for some sectors, the impact was positive (such as online retails, internet and steaming providers, etc.), it was negative for others (such as transportation, tourism, entertainment, etc.). In both cases, we can leverage time series modeling to quantify the effect of the Covid19 on the sector.">
<meta name="twitter:description" content="The Covid19 pandemic had, and unfortunately still have, a significant impact on most of the major industries. While for some sectors, the impact was positive (such as online retails, internet and steaming providers, etc.), it was negative for others (such as transportation, tourism, entertainment, etc.). In both cases, we can leverage time series modeling to quantify the effect of the Covid19 on the sector.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2021-01-06T00:00:00">
  
  
    <meta property="article:modified_time" content="2021-01-06T00:00:00">
  
  
  
    
      <meta property="article:section" content="time-series">
    
  
  
    
      <meta property="article:tag" content="R">
    
      <meta property="article:tag" content="time-series">
    
      <meta property="article:tag" content="covid19">
    
      <meta property="article:tag" content="sfo">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@Rami_Krispin">


  <meta name="twitter:creator" content="@Rami_Krispin">










  <meta property="og:image" content="https://avatars0.githubusercontent.com/u/12760966?s=400&u=654c914d9df714991b890ea38ac4fce0e55c0d8f&v=4">
  <meta property="twitter:image" content="https://avatars0.githubusercontent.com/u/12760966?s=400&u=654c914d9df714991b890ea38ac4fce0e55c0d8f&v=4">


    <title>Quantify the Covid19 Impact on the SFO Airport Passenger Air Traffic</title>

    <link rel="icon" href="/favicon.png">
    

    

    <link rel="canonical" href="/2021/01/covid19-effect/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="/css/mystyle.css">
      
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-126702581-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="/">Rami Krispin</a>
  </div>
  
    
      <a class="header-right-picture "
         href="/#about">
    
    
    
      
        <img class="header-picture" src="https://avatars0.githubusercontent.com/u/12760966?s=400&amp;u=654c914d9df714991b890ea38ac4fce0e55c0d8f&amp;v=4" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="https://avatars0.githubusercontent.com/u/12760966?s=400&amp;u=654c914d9df714991b890ea38ac4fce0e55c0d8f&amp;v=4" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Rami Krispin</h4>
        
          <h5 class="sidebar-profile-bio">Time series analysis, forecasting, machine learning, and data visualization</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/projects">
    
      <i class="sidebar-button-icon fa fa-lg fa-code"></i>
      
      <span class="sidebar-button-desc">Projects</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/RamiKrispin">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/Rami_Krispin">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/rami-krispin/">
    
      <i class="sidebar-button-icon fa fa-linkedin-square"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-bloggers.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">R-bloggers</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Quantify the Covid19 Impact on the SFO Airport Passenger Air Traffic
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2021-01-06T00:00:00Z">
        
  January 6, 2021

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="/categories/time-series">time-series</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<p>The Covid19 pandemic had, and unfortunately still have, a significant impact on most of the major industries. While for some sectors, the impact was positive (such as online retails, internet and steaming providers, etc.), it was negative for others (such as transportation, tourism, entertainment, etc.). In both cases, we can leverage time series modeling to quantify the effect of the Covid19 on the sector.</p>
<p>One simplistic approach for quantifying the impact of the pandemic (whether it is positive or negative) would include the following steps:</p>
<ul>
<li>Split the series into pre-covid and post-covid</li>
<li>Train a time series model with the pre-covid data. This would enable us to simulate the value of the series if there was no pandemic</li>
<li>Using the trained model to forecast the horizon of the post-covid series</li>
<li>Use the difference between the forecast and actual (post-covid series) to quantify the Covid19 impact on the series</li>
</ul>
<p>To demonstrate this approach, I will use the <code>sfo_passengers</code> dataset from the <a href="https://ramikrispin.github.io/sfo/">sfo package</a>. The <code>sfo_passengers</code> dataset provides monthly statistics about the San Francisco International Airport (SFO) air traffic between July 2005 and September 2020. More details about the dataset available in the following <a href="https://ramikrispin.github.io/2020/12/intro-to-sfo/">post</a> and <a href="https://ramikrispin.github.io/sfo/articles/v2_analyzing_sfo.html">vignette</a>.</p>
<p>For this analysis, we will use the following packages:</p>
<ul>
<li><code>sfo</code> - the passenger air traffic data</li>
<li><code>dplyr</code> - data prep</li>
<li><code>plotly</code> - data visualization</li>
<li><code>TSstudio</code> - time series analysis and forecasting</li>
</ul>
<pre class="r"><code>library(sfo)
library(dplyr)
library(plotly)
library(TSstudio)</code></pre>
<div id="data" class="section level4">
<h4>Data</h4>
<p>As mentioned above, the <code>sfo_passengers</code> dataset provides monthly statistics about the air passenger traffic at SFO airport since 2005. That includes monthly information about the number of passengers by different categories such as operating airline, region, terminal, etc. Let’s load the data:</p>
<pre class="r"><code>data(&quot;sfo_passengers&quot;)

str(sfo_passengers)</code></pre>
<pre><code>## &#39;data.frame&#39;:    22576 obs. of  12 variables:
##  $ activity_period            : int  202009 202009 202009 202009 202009 202009 202009 202009 202009 202009 ...
##  $ operating_airline          : chr  &quot;United Airlines&quot; &quot;United Airlines&quot; &quot;United Airlines&quot; &quot;United Airlines&quot; ...
##  $ operating_airline_iata_code: chr  &quot;UA&quot; &quot;UA&quot; &quot;UA&quot; &quot;UA&quot; ...
##  $ published_airline          : chr  &quot;United Airlines&quot; &quot;United Airlines&quot; &quot;United Airlines&quot; &quot;United Airlines&quot; ...
##  $ published_airline_iata_code: chr  &quot;UA&quot; &quot;UA&quot; &quot;UA&quot; &quot;UA&quot; ...
##  $ geo_summary                : chr  &quot;International&quot; &quot;International&quot; &quot;International&quot; &quot;International&quot; ...
##  $ geo_region                 : chr  &quot;Mexico&quot; &quot;Mexico&quot; &quot;Mexico&quot; &quot;Mexico&quot; ...
##  $ activity_type_code         : chr  &quot;Enplaned&quot; &quot;Enplaned&quot; &quot;Enplaned&quot; &quot;Deplaned&quot; ...
##  $ price_category_code        : chr  &quot;Other&quot; &quot;Other&quot; &quot;Other&quot; &quot;Other&quot; ...
##  $ terminal                   : chr  &quot;Terminal 3&quot; &quot;Terminal 3&quot; &quot;International&quot; &quot;International&quot; ...
##  $ boarding_area              : chr  &quot;F&quot; &quot;E&quot; &quot;G&quot; &quot;G&quot; ...
##  $ passenger_count            : int  6712 396 376 6817 3851 3700 71 83 65 45 ...</code></pre>
<p>Before we will convert the data into time series format, we will transform the <code>activity_period</code> into a <code>Date</code> format:</p>
<pre class="r"><code>df &lt;- sfo_passengers %&gt;%
  mutate(date = as.Date(paste(substr(sfo_passengers$activity_period, 1,4), 
                              substr(sfo_passengers$activity_period, 5,6), 
                              &quot;01&quot;, sep =&quot;/&quot;))) </code></pre>
<p>Next, we will transform the dataset into a time series format by grouping the passenger by the <code>date</code> variable:</p>
<pre class="r"><code>df &lt;- df %&gt;%
  group_by(date) %&gt;%
  summarise(y = sum(passenger_count), .groups = &quot;drop&quot;)

head(df)  </code></pre>
<pre><code>## # A tibble: 6 x 2
##   date             y
##   &lt;date&gt;       &lt;int&gt;
## 1 2005-07-01 3225769
## 2 2005-08-01 3195866
## 3 2005-09-01 2740553
## 4 2005-10-01 2770715
## 5 2005-11-01 2617333
## 6 2005-12-01 2671797</code></pre>
<p>Now, we have a monthly time series:</p>
<pre class="r"><code>plot_ly(data = df,
        x = ~ date,
        y = ~ y,
        type = &quot;scatter&quot;, 
        mode = &quot;line&quot;,
        name = &quot;Total Passengers&quot;) %&gt;%
  add_segments(x = as.Date(&quot;2020-02-01&quot;), 
               xend = as.Date(&quot;2020-02-01&quot;),
               y = min(df$y),
               yend = max(df$y) * 1.05,
               line = list(color = &quot;black&quot;, dash = &quot;dash&quot;),
               showlegend = FALSE) %&gt;%
  add_annotations(text = &quot;Pre-Covid19&quot;,
                  x = as.Date(&quot;2018-09-01&quot;),
                  y = max(df$y) * 1.05, 
                  showarrow = FALSE) %&gt;%
  add_annotations(text = &quot;Post-Covid19&quot;,
                  x = as.Date(&quot;2021-08-01&quot;),
                  y = max(df$y) * 1.05, 
                  showarrow = FALSE) %&gt;%
  layout(title = &quot;Total Number of Air Passengers - SFO Airport&quot;,
         yaxis = list(title = &quot;Number of Passengers&quot;),
         xaxis = list(title = &quot;Source: San Francisco Open Data Portal&quot;))</code></pre>
<p><div id="htmlwidget-1" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"4a4120f364d7":["function () ","plotlyVisDat"]},"cur_data":"4a4120f364d7","attrs":{"4a4120f364d7":{"x":{},"y":{},"mode":"line","name":"Total Passengers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"4a4120f364d7.1":{"x":"2020-02-01","y":138817,"mode":"lines","name":"Total Passengers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","xend":"2020-02-01","yend":6029558.85,"line":{"color":"black","dash":"dash"},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"annotations":[{"text":"Pre-Covid19","x":"2018-09-01","y":6029558.85,"showarrow":false},{"text":"Post-Covid19","x":"2021-08-01","y":6029558.85,"showarrow":false}],"title":"Total Number of Air Passengers - SFO Airport","yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Passengers"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Source: San Francisco Open Data Portal"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01"],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224,1885466,138817,286570,555119,765274,852578,905992],"mode":"line","name":"Total Passengers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2020-02-01","2020-02-01"],"y":[138817,6029558.85],"mode":"lines","name":"Total Passengers","type":"scatter","line":{"color":"black","dash":"dash"},"showlegend":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
As can be observed in the plot above, the Covid19 effect is well pronounced since March 2020. To quantify the effect of the pandemic on the number of passengers, we will split the series into the following two series:</p>
<ul>
<li>Pre-Covid19 series- all observations prior to March 2020</li>
<li>Post-Covid19 series- all observations post (include) to March 2020</li>
</ul>
<p>We will use the Pre-Covid19 series to train a time series model. That will enable us to forecast the number of passengers as if there was no pandemic.</p>
<pre class="r"><code>pre_covid &lt;- df %&gt;% 
  dplyr::filter(date &lt; as.Date(&quot;2020-03-01&quot;)) %&gt;%
  dplyr::arrange(date)

post_covid &lt;- df %&gt;% 
  dplyr::filter(date &gt;= as.Date(&quot;2020-03-01&quot;)) %&gt;%
  dplyr::arrange(date)</code></pre>
<p>We will use the <code>pre_covid</code> series to train a time series model. That will enable us to forecast the number of passengers as there was no pandemic. Once we forecast the corresponding observations of the <code>post_covid</code> series with the <code>pre_covid</code> data, we could quantify the impact of the Covid19 on the total number of passengers.</p>
</div>
<div id="analyzing-the-data" class="section level4">
<h4>Analyzing the data</h4>
<p>Before we forecast the series, let’s run a quick exploratory analysis on the series to identify its main characteristics. We will use the <a href="https://github.com/RamiKrispin/TSstudio">TSstudio</a> package to visualize the <code>pre_covid</code> series. Note that the package does not support, yet, the <code>tsibble</code> object. Therefore, we will convert the series into a <code>ts</code> object first:</p>
<pre class="r"><code>ts.obj &lt;- ts(pre_covid$y, start = c(2005, 7), frequency = 12)</code></pre>
<p>The series before the outbreak of the pandemic:</p>
<pre class="r"><code>ts_plot(ts.obj,
        title = &quot;Total Number of Air Passengers - SFO Airport&quot;,
        Ytitle = &quot;Number of Passengers&quot;,
        slider = TRUE)</code></pre>
<div id="htmlwidget-2" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"4a4161c88445":["function () ","plotlyVisDat"]},"cur_data":"4a4161c88445","attrs":{"4a4161c88445":{"x":{},"y":{},"mode":"lines","line":{"width":2,"dash":null,"color":"#00526d"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"rangeslider":{"type":"date"},"title":"","showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Passengers","showgrid":false},"title":"Total Number of Air Passengers - SFO Airport","hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"#00526d","width":2,"dash":[]},"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Like most series that describes monthly air passenger traffic, the series has a strong monthly seasonal pattern and a positive trend. You can also notice that the seasonal component’s oscillation has become larger since 2017 (compared to previous years). Let’s use the <code>ts_seasonal</code> function to create a seasonal plot of the series:</p>
<pre class="r"><code>ts_seasonal(ts.obj = ts.obj, type = &quot;all&quot;)</code></pre>
<div id="htmlwidget-3" style="width:768px;height:768px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"data":[{"x":["Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3225769,3195866,2740553,2770715,2617333,2671797],"type":"scatter","mode":"lines","name":"2005","line":{"color":"#440154FF"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200],"type":"scatter","mode":"lines","name":"2006","line":{"color":"#481A6CFF"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637],"type":"scatter","mode":"lines","name":"2007","line":{"color":"#472F7DFF"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937],"type":"scatter","mode":"lines","name":"2008","line":{"color":"#414487FF"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209],"type":"scatter","mode":"lines","name":"2009","line":{"color":"#39568CFF"},"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124],"type":"scatter","mode":"lines","name":"2010","line":{"color":"#31688EFF"},"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693],"type":"scatter","mode":"lines","name":"2011","line":{"color":"#2A788EFF"},"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039],"type":"scatter","mode":"lines","name":"2012","line":{"color":"#23888EFF"},"marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984],"type":"scatter","mode":"lines","name":"2013","line":{"color":"#1F988BFF"},"marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835],"type":"scatter","mode":"lines","name":"2014","line":{"color":"#22A884FF"},"marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052],"type":"scatter","mode":"lines","name":"2015","line":{"color":"#35B779FF"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369],"type":"scatter","mode":"lines","name":"2016","line":{"color":"#54C568FF"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504],"type":"scatter","mode":"lines","name":"2017","line":{"color":"#7AD151FF"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449],"type":"scatter","mode":"lines","name":"2018","line":{"color":"#A5DB36FF"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992],"type":"scatter","mode":"lines","name":"2019","line":{"color":"#D2E21BFF"},"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Jan","Feb"],"y":[4241751,3742224],"type":"scatter","mode":"lines","name":"2020","line":{"color":"#FDE725FF"},"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2448889,2507430,2670053,2644539,2785466,2883810,3211600,3204637,3432625,3550084,3748529,3897685,4190367,4156821,4241751],"type":"scatter","mode":"lines","name":"Jan","line":{"color":"#E41A1C"},"showlegend":true,"legendgroup":"all_Jan","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2223024,2304990,2595676,2359800,2515361,2610667,2998119,2966477,3078405,3248144,3543639,3481405,3882181,3752763,3742224],"type":"scatter","mode":"lines","name":"Feb","line":{"color":"#66628D"},"showlegend":true,"legendgroup":"all_Feb","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2708778,2820085,3127387,2925918,3105958,3129205,3472440,3593364,3765504,4001521,4137679,4335287,4674035,4599189],"type":"scatter","mode":"lines","name":"Mar","line":{"color":"#419486"},"showlegend":true,"legendgroup":"all_Mar","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2773293,2869247,3029021,3024973,3139059,3200527,3563007,3604104,3881893,4021677,4172512,4425920,4713183,4692941],"type":"scatter","mode":"lines","name":"Apr","line":{"color":"#5A9D5A"},"showlegend":true,"legendgroup":"all_Apr","marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2829000,3056934,3305954,3177100,3380355,3547804,3820570,3933016,4147096,4361140,4573996,4698067,5025595,5008001],"type":"scatter","mode":"lines","name":"May","line":{"color":"#91569A"},"showlegend":true,"legendgroup":"all_May","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[3071396,3263621,3453751,3419595,3612886,3766323,4107195,4146797,4321833,4558511,4922125,5134110,5427144,5466688],"type":"scatter","mode":"lines","name":"Jun","line":{"color":"#D96D3B"},"showlegend":true,"legendgroup":"all_Jun","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[3225769,3227605,3382382,3603946,3649702,3765824,3935589,4284443,4176486,4499221,4801148,5168724,5496516,5692572,5612312],"type":"scatter","mode":"lines","name":"Jul","line":{"color":"#FFAD12"},"showlegend":true,"legendgroup":"all_Jul","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[3195866,3143839,3436417,3612297,3650668,3771842,3917884,4356216,4347059,4524918,4796653,5110638,5516837,5545859,5742437],"type":"scatter","mode":"lines","name":"Aug","line":{"color":"#F6EF32"},"showlegend":true,"legendgroup":"all_Aug","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2740553,2720100,2957530,3004720,3191526,3356365,3564970,3819379,3781168,3919072,4201394,4543759,4736005,4649100,4471408],"type":"scatter","mode":"lines","name":"Sep","line":{"color":"#B6742A"},"showlegend":true,"legendgroup":"all_Sep","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2770715,2834959,3129309,3124451,3249428,3490100,3602455,3844987,3910790,4059443,4374749,4571997,4868674,4861782,4824559],"type":"scatter","mode":"lines","name":"Oct","line":{"color":"#D26D7A"},"showlegend":true,"legendgroup":"all_Oct","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2617333,2653887,2922500,2744485,2971484,3163659,3326859,3478890,3466878,3628786,4013814,4266481,4572702,4508606,4370463],"type":"scatter","mode":"lines","name":"Nov","line":{"color":"#DD87B4"},"showlegend":true,"legendgroup":"all_Nov","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2671797,2698200,2903637,2962937,3074209,3167124,3441693,3443039,3814984,3855835,4129052,4343369,4660504,4576449,4720992],"type":"scatter","mode":"lines","name":"Dec","line":{"color":"#999999"},"showlegend":true,"legendgroup":"all_Dec","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"fillcolor":"rgba(228,26,28, 0.5)","y":[2448889,2507430,2670053,2644539,2785466,2883810,3211600,3204637,3432625,3550084,3748529,3897685,4190367,4156821,4241751],"type":"box","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C","line":{"color":"rgba(188,189,34,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jan","showlegend":false,"legendgroup":"all_Jan","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(102,98,141, 0.5)","y":[2223024,2304990,2595676,2359800,2515361,2610667,2998119,2966477,3078405,3248144,3543639,3481405,3882181,3752763,3742224],"type":"box","line":{"color":"#66628D"},"marker":{"color":"#66628D","line":{"color":"rgba(23,190,207,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Feb","showlegend":false,"legendgroup":"all_Feb","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(65,148,134, 0.5)","y":[2708778,2820085,3127387,2925918,3105958,3129205,3472440,3593364,3765504,4001521,4137679,4335287,4674035,4599189],"type":"box","line":{"color":"#419486"},"marker":{"color":"#419486","line":{"color":"rgba(31,119,180,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Mar","showlegend":false,"legendgroup":"all_Mar","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(90,157,90, 0.5)","y":[2773293,2869247,3029021,3024973,3139059,3200527,3563007,3604104,3881893,4021677,4172512,4425920,4713183,4692941],"type":"box","line":{"color":"#5A9D5A"},"marker":{"color":"#5A9D5A","line":{"color":"rgba(255,127,14,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Apr","showlegend":false,"legendgroup":"all_Apr","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(145,86,154, 0.5)","y":[2829000,3056934,3305954,3177100,3380355,3547804,3820570,3933016,4147096,4361140,4573996,4698067,5025595,5008001],"type":"box","line":{"color":"#91569A"},"marker":{"color":"#91569A","line":{"color":"rgba(44,160,44,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"May","showlegend":false,"legendgroup":"all_May","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(217,109,59, 0.5)","y":[3071396,3263621,3453751,3419595,3612886,3766323,4107195,4146797,4321833,4558511,4922125,5134110,5427144,5466688],"type":"box","line":{"color":"#D96D3B"},"marker":{"color":"#D96D3B","line":{"color":"rgba(214,39,40,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jun","showlegend":false,"legendgroup":"all_Jun","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(255,173,18, 0.5)","y":[3225769,3227605,3382382,3603946,3649702,3765824,3935589,4284443,4176486,4499221,4801148,5168724,5496516,5692572,5612312],"type":"box","line":{"color":"#FFAD12"},"marker":{"color":"#FFAD12","line":{"color":"rgba(148,103,189,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jul","showlegend":false,"legendgroup":"all_Jul","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(246,239,50, 0.5)","y":[3195866,3143839,3436417,3612297,3650668,3771842,3917884,4356216,4347059,4524918,4796653,5110638,5516837,5545859,5742437],"type":"box","line":{"color":"#F6EF32"},"marker":{"color":"#F6EF32","line":{"color":"rgba(140,86,75,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Aug","showlegend":false,"legendgroup":"all_Aug","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(182,116,42, 0.5)","y":[2740553,2720100,2957530,3004720,3191526,3356365,3564970,3819379,3781168,3919072,4201394,4543759,4736005,4649100,4471408],"type":"box","line":{"color":"#B6742A"},"marker":{"color":"#B6742A","line":{"color":"rgba(227,119,194,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Sep","showlegend":false,"legendgroup":"all_Sep","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(210,109,122, 0.5)","y":[2770715,2834959,3129309,3124451,3249428,3490100,3602455,3844987,3910790,4059443,4374749,4571997,4868674,4861782,4824559],"type":"box","line":{"color":"#D26D7A"},"marker":{"color":"#D26D7A","line":{"color":"rgba(127,127,127,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Oct","showlegend":false,"legendgroup":"all_Oct","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(221,135,180, 0.5)","y":[2617333,2653887,2922500,2744485,2971484,3163659,3326859,3478890,3466878,3628786,4013814,4266481,4572702,4508606,4370463],"type":"box","line":{"color":"#DD87B4"},"marker":{"color":"#DD87B4","line":{"color":"rgba(188,189,34,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Nov","showlegend":false,"legendgroup":"all_Nov","xaxis":"x3","yaxis":"y3","frame":null},{"fillcolor":"rgba(153,153,153, 0.5)","y":[2671797,2698200,2903637,2962937,3074209,3167124,3441693,3443039,3814984,3855835,4129052,4343369,4660504,4576449,4720992],"type":"box","line":{"color":"#999999"},"marker":{"color":"#999999","line":{"color":"rgba(23,190,207,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Dec","showlegend":false,"legendgroup":"all_Dec","xaxis":"x3","yaxis":"y3","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"anchor":"y"},"xaxis2":{"domain":[0,1],"automargin":true,"anchor":"y2"},"xaxis3":{"domain":[0,1],"automargin":true,"anchor":"y3"},"yaxis3":{"domain":[0,0.313333333333333],"automargin":true,"title":"By Frequency Unit","anchor":"x3"},"yaxis2":{"domain":[0.353333333333333,0.646666666666667],"automargin":true,"title":"By Frequency Unit","anchor":"x2"},"yaxis":{"domain":[0.686666666666667,1],"automargin":true,"title":"By Frequency Cycle","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"title":"Seasonality Plot - ts.obj"},"attrs":{"4a416a46dfc1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3225769,3195866,2740553,2770715,2617333,2671797],"type":"scatter","mode":"lines","name":2005,"line":{"color":"#440154FF"},"inherit":true},"4a416a46dfc1.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200],"type":"scatter","mode":"lines","name":2006,"line":{"color":"#481A6CFF"},"inherit":true},"4a416a46dfc1.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637],"type":"scatter","mode":"lines","name":2007,"line":{"color":"#472F7DFF"},"inherit":true},"4a416a46dfc1.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937],"type":"scatter","mode":"lines","name":2008,"line":{"color":"#414487FF"},"inherit":true},"4a416a46dfc1.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209],"type":"scatter","mode":"lines","name":2009,"line":{"color":"#39568CFF"},"inherit":true},"4a416a46dfc1.5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124],"type":"scatter","mode":"lines","name":2010,"line":{"color":"#31688EFF"},"inherit":true},"4a416a46dfc1.6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693],"type":"scatter","mode":"lines","name":2011,"line":{"color":"#2A788EFF"},"inherit":true},"4a416a46dfc1.7":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039],"type":"scatter","mode":"lines","name":2012,"line":{"color":"#23888EFF"},"inherit":true},"4a416a46dfc1.8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984],"type":"scatter","mode":"lines","name":2013,"line":{"color":"#1F988BFF"},"inherit":true},"4a416a46dfc1.9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835],"type":"scatter","mode":"lines","name":2014,"line":{"color":"#22A884FF"},"inherit":true},"4a416a46dfc1.10":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052],"type":"scatter","mode":"lines","name":2015,"line":{"color":"#35B779FF"},"inherit":true},"4a416a46dfc1.11":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369],"type":"scatter","mode":"lines","name":2016,"line":{"color":"#54C568FF"},"inherit":true},"4a416a46dfc1.12":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504],"type":"scatter","mode":"lines","name":2017,"line":{"color":"#7AD151FF"},"inherit":true},"4a416a46dfc1.13":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449],"type":"scatter","mode":"lines","name":2018,"line":{"color":"#A5DB36FF"},"inherit":true},"4a416a46dfc1.14":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"y":[4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992],"type":"scatter","mode":"lines","name":2019,"line":{"color":"#D2E21BFF"},"inherit":true},"4a416a46dfc1.15":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["Jan","Feb"],"y":[4241751,3742224],"type":"scatter","mode":"lines","name":2020,"line":{"color":"#FDE725FF"},"inherit":true},"4a41530c2e69":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,2448889,2507430,2670053,2644539,2785466,2883810,3211600,3204637,3432625,3550084,3748529,3897685,4190367,4156821,4241751],"type":"scatter","mode":"lines","name":"Jan","line":{"color":"#E41A1C"},"showlegend":true,"legendgroup":"all_Jan","inherit":true},"4a41530c2e69.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,2223024,2304990,2595676,2359800,2515361,2610667,2998119,2966477,3078405,3248144,3543639,3481405,3882181,3752763,3742224],"type":"scatter","mode":"lines","name":"Feb","line":{"color":"#66628D"},"showlegend":true,"legendgroup":"all_Feb","inherit":true},"4a41530c2e69.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,2708778,2820085,3127387,2925918,3105958,3129205,3472440,3593364,3765504,4001521,4137679,4335287,4674035,4599189,null],"type":"scatter","mode":"lines","name":"Mar","line":{"color":"#419486"},"showlegend":true,"legendgroup":"all_Mar","inherit":true},"4a41530c2e69.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,2773293,2869247,3029021,3024973,3139059,3200527,3563007,3604104,3881893,4021677,4172512,4425920,4713183,4692941,null],"type":"scatter","mode":"lines","name":"Apr","line":{"color":"#5A9D5A"},"showlegend":true,"legendgroup":"all_Apr","inherit":true},"4a41530c2e69.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,2829000,3056934,3305954,3177100,3380355,3547804,3820570,3933016,4147096,4361140,4573996,4698067,5025595,5008001,null],"type":"scatter","mode":"lines","name":"May","line":{"color":"#91569A"},"showlegend":true,"legendgroup":"all_May","inherit":true},"4a41530c2e69.5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[null,3071396,3263621,3453751,3419595,3612886,3766323,4107195,4146797,4321833,4558511,4922125,5134110,5427144,5466688,null],"type":"scatter","mode":"lines","name":"Jun","line":{"color":"#D96D3B"},"showlegend":true,"legendgroup":"all_Jun","inherit":true},"4a41530c2e69.6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[3225769,3227605,3382382,3603946,3649702,3765824,3935589,4284443,4176486,4499221,4801148,5168724,5496516,5692572,5612312,null],"type":"scatter","mode":"lines","name":"Jul","line":{"color":"#FFAD12"},"showlegend":true,"legendgroup":"all_Jul","inherit":true},"4a41530c2e69.7":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[3195866,3143839,3436417,3612297,3650668,3771842,3917884,4356216,4347059,4524918,4796653,5110638,5516837,5545859,5742437,null],"type":"scatter","mode":"lines","name":"Aug","line":{"color":"#F6EF32"},"showlegend":true,"legendgroup":"all_Aug","inherit":true},"4a41530c2e69.8":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2740553,2720100,2957530,3004720,3191526,3356365,3564970,3819379,3781168,3919072,4201394,4543759,4736005,4649100,4471408,null],"type":"scatter","mode":"lines","name":"Sep","line":{"color":"#B6742A"},"showlegend":true,"legendgroup":"all_Sep","inherit":true},"4a41530c2e69.9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2770715,2834959,3129309,3124451,3249428,3490100,3602455,3844987,3910790,4059443,4374749,4571997,4868674,4861782,4824559,null],"type":"scatter","mode":"lines","name":"Oct","line":{"color":"#D26D7A"},"showlegend":true,"legendgroup":"all_Oct","inherit":true},"4a41530c2e69.10":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2617333,2653887,2922500,2744485,2971484,3163659,3326859,3478890,3466878,3628786,4013814,4266481,4572702,4508606,4370463,null],"type":"scatter","mode":"lines","name":"Nov","line":{"color":"#DD87B4"},"showlegend":true,"legendgroup":"all_Nov","inherit":true},"4a41530c2e69.11":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],"y":[2671797,2698200,2903637,2962937,3074209,3167124,3441693,3443039,3814984,3855835,4129052,4343369,4660504,4576449,4720992,null],"type":"scatter","mode":"lines","name":"Dec","line":{"color":"#999999"},"showlegend":true,"legendgroup":"all_Dec","inherit":true},"4a4157adff41":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(228,26,28, 0.5)","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jan","showlegend":false,"legendgroup":"all_Jan","inherit":true},"4a416051315f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(102,98,141, 0.5)","line":{"color":"#66628D"},"marker":{"color":"#66628D"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Feb","showlegend":false,"legendgroup":"all_Feb","inherit":true},"4a417280855f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(65,148,134, 0.5)","line":{"color":"#419486"},"marker":{"color":"#419486"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Mar","showlegend":false,"legendgroup":"all_Mar","inherit":true},"4a4153b45ab3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(90,157,90, 0.5)","line":{"color":"#5A9D5A"},"marker":{"color":"#5A9D5A"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Apr","showlegend":false,"legendgroup":"all_Apr","inherit":true},"4a4165aec8b3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(145,86,154, 0.5)","line":{"color":"#91569A"},"marker":{"color":"#91569A"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"May","showlegend":false,"legendgroup":"all_May","inherit":true},"4a4135fa93ec":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(217,109,59, 0.5)","line":{"color":"#D96D3B"},"marker":{"color":"#D96D3B"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jun","showlegend":false,"legendgroup":"all_Jun","inherit":true},"4a41560586a3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(255,173,18, 0.5)","line":{"color":"#FFAD12"},"marker":{"color":"#FFAD12"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Jul","showlegend":false,"legendgroup":"all_Jul","inherit":true},"4a414ca6374":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(246,239,50, 0.5)","line":{"color":"#F6EF32"},"marker":{"color":"#F6EF32"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Aug","showlegend":false,"legendgroup":"all_Aug","inherit":true},"4a413475721":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(182,116,42, 0.5)","line":{"color":"#B6742A"},"marker":{"color":"#B6742A"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Sep","showlegend":false,"legendgroup":"all_Sep","inherit":true},"4a4140a93935":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(210,109,122, 0.5)","line":{"color":"#D26D7A"},"marker":{"color":"#D26D7A"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Oct","showlegend":false,"legendgroup":"all_Oct","inherit":true},"4a4125eae7bd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(221,135,180, 0.5)","line":{"color":"#DD87B4"},"marker":{"color":"#DD87B4"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Nov","showlegend":false,"legendgroup":"all_Nov","inherit":true},"4a4161143cbd":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"box","fillcolor":"rgba(153,153,153, 0.5)","line":{"color":"#999999"},"marker":{"color":"#999999"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"name":"Dec","showlegend":false,"legendgroup":"all_Dec","inherit":true}},"source":"A","config":{"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>As can see in the seasonal plot, the monthly seasonal effect kept overtime while the series continue to grow from year to year.</p>
<p>Similarly, we can review the series correlation with its past lags using the ACF and PACF functions:</p>
<pre class="r"><code>ts_cor(ts.obj = ts.obj, lag.max = 36)</code></pre>
<div id="htmlwidget-4" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"data":[{"x":[0],"y":[1],"type":"bar","marker":{"color":"black","line":{"color":"rgba(31,119,180,1)"}},"width":0.1,"name":"Lag-Zero","legendgroup":"lagzero","showlegend":false,"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[12,24,36],"y":[0.839347399697626,0.660323916895977,0.48855329302762],"type":"bar","marker":{"color":"red","line":{"color":"rgba(255,127,14,1)"}},"width":[0.1,0.1,0.1],"legendgroup":"seasonal","name":"Seasonal Lag 12","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,20,21,22,23,25,26,27,28,29,30,31,32,33,34,35],"y":[0.907496237374919,0.83279466817422,0.72899860992135,0.628991972602187,0.557775689620089,0.478097206339324,0.524533020351198,0.561410747060952,0.636175747113173,0.711612098956667,0.767144331688843,0.756572968150344,0.684142127180947,0.585808374488201,0.488893522507546,0.421788386720394,0.346932119869205,0.386100855978608,0.417432459757581,0.483630255840517,0.550859875380697,0.598132089077132,0.582594510064595,0.515651673299807,0.424388577864718,0.333383599362387,0.270821502576945,0.201195085265781,0.234882297220404,0.261748862287295,0.322908598111998,0.384301917637048,0.429380244463142],"type":"bar","marker":{"color":"#00526d","line":{"color":"rgba(44,160,44,1)"}},"width":[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],"legendgroup":"nonseasonal","name":"Non-Seasonal","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,36],"y":[0.147737844075666,0.147737844075666],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,36],"y":[-0.147737844075666,-0.147737844075666],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[12,24,36],"y":[0.198371325342963,-0.0342135566914267,-0.00265718241345955],"type":"bar","marker":{"color":"red","line":{"color":"rgba(140,86,75,1)"}},"width":[0.1,0.1,0.1],"legendgroup":"seasonal","showlegend":false,"name":"Seasonal Lag 12","error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,13,14,15,16,17,18,19,20,21,22,23,25,26,27,28,29,30,31,32,33,34,35],"y":[0.907496237374919,0.0523956757132866,-0.197252939766858,-0.0670290579728831,0.133686327879302,-0.0687062421231785,0.645875684033285,0.100877113148706,0.14174742275876,0.116805743812194,0.0883951432396718,-0.667366543972704,-0.143553755731278,0.199435603974801,-0.0277880183418477,0.165985426348997,0.0975199325359795,-0.152565245501793,0.0116715582546935,-0.0681558124431932,-0.0237257624354226,0.0360816371190263,-0.161893186870977,0.107651174933879,0.0366482305978391,-0.0205000274326863,0.0295837348284957,-0.0590034066411768,-0.100347428644784,0.0553542610999415,0.013524073906336,0.0012492344982644,0.0811762499762344],"type":"bar","marker":{"color":"#00526d","line":{"color":"rgba(227,119,194,1)"}},"width":[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1],"legendgroup":"nonseasonal","showlegend":false,"name":"Non-Seasonal","error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,36],"y":[0.147737844075666,0.147737844075666],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1,36],"y":[-0.147737844075666,-0.147737844075666],"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"dtick":12,"title":"Lag","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"title":"PACF","anchor":"x"},"yaxis":{"domain":[0.52,1],"automargin":true,"title":"ACF","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"compare","showlegend":true,"title":"ts.obj ACF and PACF Plots"},"attrs":{"4a411c93020e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"type":"bar","marker":{"color":"black"},"width":0.1,"name":"Lag-Zero","legendgroup":"lagzero","showlegend":false,"inherit":true},"4a411c93020e.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[null,null,null,null,null,null,null,null,null,null,null,null,0.839347399697626,null,null,null,null,null,null,null,null,null,null,null,0.660323916895977,null,null,null,null,null,null,null,null,null,null,null,0.48855329302762],"type":"bar","marker":{"color":"red"},"width":0.1,"legendgroup":"seasonal","name":"Seasonal Lag 12","inherit":true},"4a411c93020e.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[null,0.907496237374919,0.83279466817422,0.72899860992135,0.628991972602187,0.557775689620089,0.478097206339324,0.524533020351198,0.561410747060952,0.636175747113173,0.711612098956667,0.767144331688843,null,0.756572968150344,0.684142127180947,0.585808374488201,0.488893522507546,0.421788386720394,0.346932119869205,0.386100855978608,0.417432459757581,0.483630255840517,0.550859875380697,0.598132089077132,null,0.582594510064595,0.515651673299807,0.424388577864718,0.333383599362387,0.270821502576945,0.201195085265781,0.234882297220404,0.261748862287295,0.322908598111998,0.384301917637048,0.429380244463142,null],"type":"bar","marker":{"color":"#00526d"},"width":0.1,"legendgroup":"nonseasonal","name":"Non-Seasonal","inherit":true},"4a411c93020e.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":0,"y":0.147737844075666,"xend":36,"yend":0.147737844075666,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","inherit":true},"4a411c93020e.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":0,"y":-0.147737844075666,"xend":36,"yend":-0.147737844075666,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","inherit":true},"4a41776bf3c9":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[null,null,null,null,null,null,null,null,null,null,null,0.198371325342963,null,null,null,null,null,null,null,null,null,null,null,-0.0342135566914267,null,null,null,null,null,null,null,null,null,null,null,-0.00265718241345955],"type":"bar","marker":{"color":"red"},"width":0.1,"legendgroup":"seasonal","showlegend":false,"name":"Seasonal Lag 12","inherit":true},"4a41776bf3c9.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],"y":[0.907496237374919,0.0523956757132866,-0.197252939766858,-0.0670290579728831,0.133686327879302,-0.0687062421231785,0.645875684033285,0.100877113148706,0.14174742275876,0.116805743812194,0.0883951432396718,null,-0.667366543972704,-0.143553755731278,0.199435603974801,-0.0277880183418477,0.165985426348997,0.0975199325359795,-0.152565245501793,0.0116715582546935,-0.0681558124431932,-0.0237257624354226,0.0360816371190263,null,-0.161893186870977,0.107651174933879,0.0366482305978391,-0.0205000274326863,0.0295837348284957,-0.0590034066411768,-0.100347428644784,0.0553542610999415,0.013524073906336,0.0012492344982644,0.0811762499762344,null],"type":"bar","marker":{"color":"#00526d"},"width":0.1,"legendgroup":"nonseasonal","showlegend":false,"name":"Non-Seasonal","inherit":true},"4a41776bf3c9.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":1,"y":0.147737844075666,"xend":36,"yend":0.147737844075666,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Upper Bound","inherit":true},"4a41776bf3c9.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":1,"y":-0.147737844075666,"xend":36,"yend":-0.147737844075666,"type":"scatter","mode":"lines","line":{"color":"green","dash":"dash"},"legendgroup":"ci","showlegend":false,"name":"CI Lower Bound","inherit":true}},"source":"A","config":{"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>And as expected, we can see strong correlation between the series and the first and seasonal lags. We will leverage this information to select time-series models for seasonal data.</p>
</div>
<div id="forecast-the-pre-covid19-series" class="section level4">
<h4>Forecast the Pre-Covid19 series</h4>
<p>One of my favorite forecasting strategies is a combination of horse racing between different time series models and backtesting as a training approach. Backtesting is the time series equivalent of the machine learning cross-validation training approach. The idea here is simple - test each model with backtesting, and select the one that performed best, on average, on the different testing partition.</p>
<p>The <code>train_model</code> function from the <strong>TSstudio</strong> package enables us to apply this strategy seamlessly using models from the <strong>forecast</strong> and <strong>stats</strong> packages. For simplicity, we will use different flavors of <code>ETS</code> and <code>Holt-Winters</code> models and out-of-the-box <code>auto.arima</code> and <code>tslm</code> models. For the backtesting, we will split the series into 6 testing partitions, each 12 months spaced by 3 months from each other.</p>
<p>The <code>methods</code> argument defines the models to use and the <code>train_method</code> argument defines the setting of the backtesting. Can find more details about the function <a href="https://ramikrispin.github.io/TSstudio/reference/train_model.html">here</a>.</p>
<pre class="r"><code>methods &lt;- list(ets1 = list(method = &quot;ets&quot;,
                            method_arg = list(opt.crit = &quot;lik&quot;),
                            notes = &quot;ETS model opt.crit=lik&quot;),
                ets2 = list(method = &quot;ets&quot;,
                            method_arg = list(opt.crit = &quot;amse&quot;),
                            notes = &quot;ETS model opt.crit=amse&quot;),
                ets3 = list(method = &quot;ets&quot;,
                            method_arg = list(opt.crit = &quot;mse&quot;),
                            notes = &quot;ETS model opt.crit=mse&quot;),
                auto_arima = list(method = &quot;auto.arima&quot;,
                              notes = &quot;Auto ARIMA&quot;),
                hw1 = list(method = &quot;HoltWinters&quot;,
                          method_arg = NULL,
                          notes = &quot;HoltWinters Model&quot;),
                 hw2 = list(method = &quot;HoltWinters&quot;,
                          method_arg = list(seasonal = &quot;multiplicative&quot;),
                          notes = &quot;HW with multip. seasonality&quot;),
                tslm = list(method = &quot;tslm&quot;,
                            method_arg = list(formula = input ~ trend + season),
                            notes = &quot;tslm with trend and seasonal&quot;))


train_method = list(partitions = 6,
                    sample.out = 12,
                    space = 3)</code></pre>
<p>After we defined the methods and <code>train_method</code> arguments we will use the <code>train_model</code> function to train the models. Note that the forecast horizon is set the the length of the <code>post_covid</code> series. In addition we will set the <code>MAPA</code> as the error metric to evaluate the performance of the different models on the testing partitions:</p>
<pre class="r"><code>md &lt;- train_model(input = ts.obj,
                  methods = methods,
                  train_method = train_method,
                  horizon = nrow(post_covid),
                  error = &quot;MAPE&quot;)</code></pre>
<pre><code>## # A tibble: 7 x 7
##   model_id   model       notes                        avg_mape avg_rmse `avg_coverage_80%` `avg_coverage_95%`
##   &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;                           &lt;dbl&gt;    &lt;dbl&gt;              &lt;dbl&gt;              &lt;dbl&gt;
## 1 hw1        HoltWinters HoltWinters Model              0.0277  149046.              0.792              0.958
## 2 ets2       ets         ETS model opt.crit=amse        0.0284  161754.              0.792              0.972
## 3 hw2        HoltWinters HW with multip. seasonality    0.0300  171702.              0.528              0.847
## 4 ets1       ets         ETS model opt.crit=lik         0.0307  173337.              0.833              0.958
## 5 ets3       ets         ETS model opt.crit=mse         0.0311  174238.              0.861              0.972
## 6 auto_arima auto.arima  Auto ARIMA                     0.0334  184381.              0.597              0.889
## 7 tslm       tslm        tslm with trend and seasonal   0.0370  223194.              0.569              0.75</code></pre>
<p>Based on the <code>leaderboard</code> table from the <code>train_model</code> function, the model that performed best on average on the different testing partitions is the <strong>Holt-Winters</strong> model (first version - <code>hw1</code>). The model achieved, on average, the lowest MAPE (2.76%) and RMSE (149046) compared to the other models which evaluated. In addition, the model achieved a close to perfect coverage of the model prediction intervals with an average coverage of 79.2% and 95.8% for the 80% and 95% prediction interval, respectively. We can review the error distribution across the different partitions for each model with the <code>plot_error</code> function:</p>
<pre class="r"><code>plot_error(md)</code></pre>
<div id="htmlwidget-5" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"data":[{"x":[1,2,3,4,5,6],"y":[2.81777692095792,3.27484547765425,3.742835843832,3.61726938108199,2.72150596118445,2.24976991154767],"type":"scatter","mode":"lines","name":"ets1","showlegend":true,"legendgroup":"ets1","line":{"color":"#E41A1C"},"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[2.2985359047454,3.10429695143456,4.22424509847459,2.77926349475718,2.03900208327119,2.57204477335701],"type":"scatter","mode":"lines","name":"ets2","showlegend":true,"legendgroup":"ets2","line":{"color":"#3E8E93"},"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[3.80520796819263,3.25813601573966,2.81456690436634,3.56176836067291,2.77840144057573,2.45400628977534],"type":"scatter","mode":"lines","name":"ets3","showlegend":true,"legendgroup":"ets3","line":{"color":"#7E6E85"},"marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[2.03715781020461,3.92755796516081,5.44897695988796,4.2675958573861,2.08360652766786,2.25672049776931],"type":"scatter","mode":"lines","name":"auto_arima","showlegend":true,"legendgroup":"auto_arima","line":{"color":"#FF7F00"},"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[2.91935384812561,2.26890213981866,2.64351262847368,4.02901912985384,2.79233704209503,1.96174102219649],"type":"scatter","mode":"lines","name":"hw1","showlegend":true,"legendgroup":"hw1","line":{"color":"#E1C62F"},"marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[2.96994555310263,4.38436729162556,3.26970059180152,2.80044692946732,2.39146011780482,2.21123604633037],"type":"scatter","mode":"lines","name":"hw2","showlegend":true,"legendgroup":"hw2","line":{"color":"#DB728C"},"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6],"y":[3.6620345405476,4.0077909501968,3.17806135786671,2.65643653846798,4.15382975908853,4.55945278162432],"type":"scatter","mode":"lines","name":"tslm","showlegend":true,"legendgroup":"tslm","line":{"color":"#999999"},"marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(228,26,28, 0.5)","y":[2.81777692095792,3.27484547765425,3.742835843832,3.61726938108199,2.72150596118445,2.24976991154767],"name":"ets1","type":"box","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C","line":{"color":"rgba(127,127,127,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets1","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(62,142,147, 0.5)","y":[2.2985359047454,3.10429695143456,4.22424509847459,2.77926349475718,2.03900208327119,2.57204477335701],"name":"ets2","type":"box","line":{"color":"#3E8E93"},"marker":{"color":"#3E8E93","line":{"color":"rgba(188,189,34,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets2","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(126,110,133, 0.5)","y":[3.80520796819263,3.25813601573966,2.81456690436634,3.56176836067291,2.77840144057573,2.45400628977534],"name":"ets3","type":"box","line":{"color":"#7E6E85"},"marker":{"color":"#7E6E85","line":{"color":"rgba(23,190,207,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets3","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,0, 0.5)","y":[2.03715781020461,3.92755796516081,5.44897695988796,4.2675958573861,2.08360652766786,2.25672049776931],"name":"auto_arima","type":"box","line":{"color":"#FF7F00"},"marker":{"color":"#FF7F00","line":{"color":"rgba(31,119,180,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"auto_arima","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(225,198,47, 0.5)","y":[2.91935384812561,2.26890213981866,2.64351262847368,4.02901912985384,2.79233704209503,1.96174102219649],"name":"hw1","type":"box","line":{"color":"#E1C62F"},"marker":{"color":"#E1C62F","line":{"color":"rgba(255,127,14,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"hw1","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(219,114,140, 0.5)","y":[2.96994555310263,4.38436729162556,3.26970059180152,2.80044692946732,2.39146011780482,2.21123604633037],"name":"hw2","type":"box","line":{"color":"#DB728C"},"marker":{"color":"#DB728C","line":{"color":"rgba(44,160,44,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"hw2","xaxis":"x2","yaxis":"y","frame":null},{"fillcolor":"rgba(153,153,153, 0.5)","y":[3.6620345405476,4.0077909501968,3.17806135786671,2.65643653846798,4.15382975908853,4.55945278162432],"name":"tslm","type":"box","line":{"color":"#999999"},"marker":{"color":"#999999","line":{"color":"rgba(214,39,40,1)"}},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"tslm","xaxis":"x2","yaxis":"y","frame":null}],"layout":{"xaxis":{"domain":[0,0.48],"automargin":true,"anchor":"y"},"xaxis2":{"domain":[0.52,1],"automargin":true,"anchor":"y"},"yaxis":{"domain":[0,1],"automargin":true,"title":"MAPE","ticksuffix":"%","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"title":"Model Performance by Testing Partition - MAPE"},"attrs":{"4a4145063f71":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[2.81777692095792,3.27484547765425,3.742835843832,3.61726938108199,2.72150596118445,2.24976991154767],"type":"scatter","mode":"lines","name":"ets1","showlegend":true,"legendgroup":"ets1","line":{"color":"#E41A1C"},"inherit":true},"4a4145063f71.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[2.2985359047454,3.10429695143456,4.22424509847459,2.77926349475718,2.03900208327119,2.57204477335701],"type":"scatter","mode":"lines","name":"ets2","showlegend":true,"legendgroup":"ets2","line":{"color":"#3E8E93"},"inherit":true},"4a4145063f71.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[3.80520796819263,3.25813601573966,2.81456690436634,3.56176836067291,2.77840144057573,2.45400628977534],"type":"scatter","mode":"lines","name":"ets3","showlegend":true,"legendgroup":"ets3","line":{"color":"#7E6E85"},"inherit":true},"4a4145063f71.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[2.03715781020461,3.92755796516081,5.44897695988796,4.2675958573861,2.08360652766786,2.25672049776931],"type":"scatter","mode":"lines","name":"auto_arima","showlegend":true,"legendgroup":"auto_arima","line":{"color":"#FF7F00"},"inherit":true},"4a4145063f71.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[2.91935384812561,2.26890213981866,2.64351262847368,4.02901912985384,2.79233704209503,1.96174102219649],"type":"scatter","mode":"lines","name":"hw1","showlegend":true,"legendgroup":"hw1","line":{"color":"#E1C62F"},"inherit":true},"4a4145063f71.5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[2.96994555310263,4.38436729162556,3.26970059180152,2.80044692946732,2.39146011780482,2.21123604633037],"type":"scatter","mode":"lines","name":"hw2","showlegend":true,"legendgroup":"hw2","line":{"color":"#DB728C"},"inherit":true},"4a4145063f71.6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[1,2,3,4,5,6],"y":[3.6620345405476,4.0077909501968,3.17806135786671,2.65643653846798,4.15382975908853,4.55945278162432],"type":"scatter","mode":"lines","name":"tslm","showlegend":true,"legendgroup":"tslm","line":{"color":"#999999"},"inherit":true},"4a411d2f371e":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[2.81777692095792,3.27484547765425,3.742835843832,3.61726938108199,2.72150596118445,2.24976991154767],"name":"ets1","type":"box","fillcolor":"rgba(228,26,28, 0.5)","line":{"color":"#E41A1C"},"marker":{"color":"#E41A1C"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets1","inherit":true},"4a411d2f371e.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[2.2985359047454,3.10429695143456,4.22424509847459,2.77926349475718,2.03900208327119,2.57204477335701],"name":"ets2","type":"box","fillcolor":"rgba(62,142,147, 0.5)","line":{"color":"#3E8E93"},"marker":{"color":"#3E8E93"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets2","inherit":true},"4a411d2f371e.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[3.80520796819263,3.25813601573966,2.81456690436634,3.56176836067291,2.77840144057573,2.45400628977534],"name":"ets3","type":"box","fillcolor":"rgba(126,110,133, 0.5)","line":{"color":"#7E6E85"},"marker":{"color":"#7E6E85"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"ets3","inherit":true},"4a411d2f371e.3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[2.03715781020461,3.92755796516081,5.44897695988796,4.2675958573861,2.08360652766786,2.25672049776931],"name":"auto_arima","type":"box","fillcolor":"rgba(255,127,0, 0.5)","line":{"color":"#FF7F00"},"marker":{"color":"#FF7F00"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"auto_arima","inherit":true},"4a411d2f371e.4":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[2.91935384812561,2.26890213981866,2.64351262847368,4.02901912985384,2.79233704209503,1.96174102219649],"name":"hw1","type":"box","fillcolor":"rgba(225,198,47, 0.5)","line":{"color":"#E1C62F"},"marker":{"color":"#E1C62F"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"hw1","inherit":true},"4a411d2f371e.5":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[2.96994555310263,4.38436729162556,3.26970059180152,2.80044692946732,2.39146011780482,2.21123604633037],"name":"hw2","type":"box","fillcolor":"rgba(219,114,140, 0.5)","line":{"color":"#DB728C"},"marker":{"color":"#DB728C"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"hw2","inherit":true},"4a411d2f371e.6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[3.6620345405476,4.0077909501968,3.17806135786671,2.65643653846798,4.15382975908853,4.55945278162432],"name":"tslm","type":"box","fillcolor":"rgba(153,153,153, 0.5)","line":{"color":"#999999"},"marker":{"color":"#999999"},"boxpoints":"all","jitter":0.3,"pointpos":-1.8,"showlegend":false,"legendgroup":"tslm","inherit":true}},"source":"A","config":{"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The <code>plot_model</code> enables us to animate the forecasted values of each model on the different testing partitions of the backtesting:</p>
<pre class="r"><code>plot_model(md)</code></pre>
<div id="htmlwidget-6" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"visdat":{"4a4122da6e82":["function () ","plotlyVisDat"]},"cur_data":"4a4122da6e82","attrs":{"4a4122da6e82":{"x":{},"y":{},"mode":"lines","line":{"simplyfy":false},"split":{},"frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":50,"title":"md Models Performance by Testing Partitions","xaxis":{"domain":[0,1],"automargin":true,"title":"Date","zeroline":false,"range":[2004.77083333333,2020.8125]},"yaxis":{"domain":[0,1],"automargin":true,"title":"","zeroline":false,"range":[2041241.59127711,6040454.58318061]},"font":{"color":"black"},"plot_bgcolor":"white","paper_bgcolor":"white","hovermode":"closest","showlegend":true,"sliders":[{"currentvalue":{"prefix":"partition: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["1"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"1","value":"1"},{"method":"animate","args":[["2"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"2","value":"2"},{"method":"animate","args":[["3"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"3","value":"3"},{"method":"animate","args":[["4"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"4","value":"4"},{"method":"animate","args":[["5"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"5","value":"5"},{"method":"animate","args":[["6"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false},"mode":"immediate"}],"label":"6","value":"6"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":1,"yanchor":"bottom","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":0,"easing":"linear"},"frame":{"duration":500,"redraw":false}}]}]}]},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"1","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4662648.38877152,4250653.18849264,3906822.84077006,4641620.05859456,4701934.41503581,5013033.85030003,5360887.38857595,5645502.75106732,5648238.30120258,4976139.46503331,5084951.60089021,4762253.17200161],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"1","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4663516.96901709,4255313.84232917,3907097.71271057,4741046.16749003,4811730.49023165,5157706.84287766,5504110.66720021,5761883.62528134,5765293.64584336,5017628.41643024,5156637.26874575,4725896.44425262],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4640379.52046931,4242622.2080514,3876192.64731705,4701919.24052639,4766413.79720938,5125768.02195122,5457324.48311187,5718960.57351841,5744028.27150913,4994984.71687352,5139996.03893908,4701342.67995677],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4676026.70341037,4267702.76443747,3912567.19118709,4744561.7209032,4819279.42075196,5192146.47308412,5552726.26685121,5821520.18118917,5858672.17445772,5115048.21763965,5258740.76783462,4834139.45020265],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4666393.2161633,4293664.17067734,4011592.01106643,4815287.0119868,4866758.61788972,5172443.17478515,5520752.26327711,5736917.83052639,5645818.24091496,4926456.84150425,5065527.74258316,4753964.28825543],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"1","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4642402.43351819,4226158.66723458,3878149.97853508,4723352.54514793,4808702.86841276,5188770.95451046,5543840.2579286,5801950.40530063,5790957.01113968,5039936.83968447,5158675.47395369,4732221.25318844],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"1","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4421723.28911565,4128345.87244898,3873375.87244898,4473160.78911565,4521669.70578231,4782152.95578231,5027745.53911565,5220355.82417583,5232954.20879121,4706447.05494506,4806102.13186813,4498079.13186813],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"1","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"1","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"1","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4662648.38877152,4250653.18849264,3906822.84077006,4641620.05859456,4701934.41503581,5013033.85030003,5360887.38857595,5645502.75106732,5648238.30120258,4976139.46503331,5084951.60089021,4762253.17200161],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"1","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4663516.96901709,4255313.84232917,3907097.71271057,4741046.16749003,4811730.49023165,5157706.84287766,5504110.66720021,5761883.62528134,5765293.64584336,5017628.41643024,5156637.26874575,4725896.44425262],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4640379.52046931,4242622.2080514,3876192.64731705,4701919.24052639,4766413.79720938,5125768.02195122,5457324.48311187,5718960.57351841,5744028.27150913,4994984.71687352,5139996.03893908,4701342.67995677],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4676026.70341037,4267702.76443747,3912567.19118709,4744561.7209032,4819279.42075196,5192146.47308412,5552726.26685121,5821520.18118917,5858672.17445772,5115048.21763965,5258740.76783462,4834139.45020265],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"1","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4666393.2161633,4293664.17067734,4011592.01106643,4815287.0119868,4866758.61788972,5172443.17478515,5520752.26327711,5736917.83052639,5645818.24091496,4926456.84150425,5065527.74258316,4753964.28825543],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"1","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4642402.43351819,4226158.66723458,3878149.97853508,4723352.54514793,4808702.86841276,5188770.95451046,5543840.2579286,5801950.40530063,5790957.01113968,5039936.83968447,5158675.47395369,4732221.25318844],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"1","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333],"y":[4421723.28911565,4128345.87244898,3873375.87244898,4473160.78911565,4521669.70578231,4782152.95578231,5027745.53911565,5220355.82417583,5232954.20879121,4706447.05494506,4806102.13186813,4498079.13186813],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"1","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]},{"name":"2","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"2","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4635498.26473432,4703002.4246484,5016232.1584116,5378532.61137673,5675265.54884079,5677631.65417329,4993714.39459093,5103553.46491872,4785708.87752772,4886761.47142227,4449439.84479792,4127157.99146437],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"2","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4694023.29088653,4764199.31490137,5100784.97642778,5430172.68477655,5688977.41137164,5705658.51320955,4958575.89500432,5104193.19125513,4673426.04092019,4809638.27512677,4388244.80311878,4027855.8206912],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"2","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4690108.26809639,4754823.14520313,5107215.57315146,5434155.12037056,5689388.60016428,5702880.65044018,4966149.48498048,5091919.70013869,4666269.80058465,4794897.51514569,4366152.52533414,3997605.84793541],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"2","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4690123.85581537,4754825.84291249,5112553.97065868,5445646.55019046,5702539.17152855,5716701.11896082,4974712.60513972,5105905.94230563,4672102.78928358,4810468.04261377,4370504.59967854,4001852.93608808],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"2","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4715378.50323141,4764625.00563288,5067720.28893118,5414892.58194263,5630242.95399559,5537483.76598811,4815134.62986563,4952092.73632284,4639104.92053093,4728210.46027457,4310098.15951198,4038502.39825593],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"2","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4717545.51238518,4802371.56780862,5181991.88994422,5536999.07606922,5794911.54282024,5783721.68850285,5033729.98840906,5152385.68465187,4726650.78332539,4845975.03949002,4396374.94529504,4046498.33657716],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"2","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333],"y":[4479114.76923077,4527623.68589744,4788106.93589744,5033699.51923077,5226767.80276134,5239366.18737673,4712859.03353057,4812514.11045365,4504491.11045365,4607462.03353057,4300487.72583826,4041424.18737673],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"2","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]},{"name":"3","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"3","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5390788.09628057,5688188.54874233,5690496.28572271,5005797.11607379,5115681.02384566,4798133.06051862,4898929.94181807,4461131.01437741,4138734.55238777,4913661.73091621,4966048.97893475,5278785.24661489],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"3","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5384793.45947407,5635950.85502372,5655737.41528692,4909514.10934149,5045259.47233217,4629619.70363544,4758954.14456425,4339307.38594084,3982688.94633511,4832024.7133303,4901408.16795106,5262855.67349992],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"3","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5400913.86725694,5663165.31447035,5666375.60882748,4944603.45939681,5088951.5142398,4651974.9224152,4815569.41775386,4357928.47915088,4013051.30745249,4858355.92485614,4923887.46967346,5296172.12448908],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"3","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5377025.45509581,5621944.9485568,5632364.38920464,4906181.61263101,5022871.00379107,4592893.76818003,4719415.96307912,4284066.84827056,3927441.32732642,4750691.85370403,4800725.51278116,5153614.9824567],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"3","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5373068.03780479,5587461.19401677,5493976.73706181,4771144.16434478,4907384.99759296,4593552.21207195,4681936.82786854,4263235.35641167,3991013.1521621,4804494.7553284,4858695.48262749,5172612.54811835],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"3","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5422819.98810941,5673958.05610035,5660119.72891141,4924879.28134695,5039675.12648788,4622789.7870938,4735919.82569263,4293030.81769417,3949316.69017673,4791813.07861884,4868367.08735023,5244415.51604366],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"3","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333],"y":[5044935.29393939,5238867.86783216,5251466.25244755,4724959.0986014,4824614.17552447,4516591.17552447,4619562.0986014,4312587.79090909,4053524.25244755,4668083.71398601,4715872.56013986,4980350.32937063],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"3","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]},{"name":"4","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"4","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4917260.53955709,5027046.01854174,4708841.19418495,4810204.89808531,4373467.90230177,4051329.08417201,4825205.67536981,4877683.88689129,5190548.56551835,5573100.50086841,5852940.4702259,5776724.92215794],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"4","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4892001.56872729,5019945.90793439,4602276.02807347,4740644.91764336,4316533.64491442,3963685.00045483,4795893.29591842,4866394.89867534,5223227.72850455,5571470.00863788,5837331.12086497,5834574.11890363],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"4","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4889550.10962328,5028267.93300592,4585563.02142363,4721553.39945599,4290501.26357444,3932527.81828718,4755879.24439943,4804883.02500698,5157962.61727658,5499710.5400596,5750706.63182673,5743267.27862078],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"4","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4893694.72384532,5027663.27670909,4604350.7893917,4750433.1246551,4318793.84679466,3966020.01045542,4791197.25970962,4851711.87798513,5210917.2798399,5565869.92899339,5825358.90517002,5819580.36538501],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"4","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4832320.75940566,4969444.74635132,4657297.57001931,4746727.95145746,4328225.18582411,4056245.18918645,4870863.37718987,4926163.27077866,5241003.15794775,5615081.7007792,5841498.54573214,5705897.09500937],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"4","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4878957.20616345,4991526.26325917,4577523.00395782,4688043.12444622,4249075.85500789,3908759.79256329,4742192.74914606,4817456.41313958,5189241.38160159,5568303.66855506,5826574.99069776,5776387.67469483],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"4","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333],"y":[4746977.19692308,4846632.27384616,4538609.27384616,4641580.19692308,4334605.88923077,4075542.35076923,4690101.81230769,4737890.65846154,5002368.42769231,5259957.65846154,5458469.72197802,5459688.72197802],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"4","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]},{"name":"5","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"5","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4617033.03659663,4175175.7808753,3851892.55540483,4630759.14343157,4682750.43299449,4994924.36416275,5382776.20367856,5664569.35413125,5582224.34264077,4774311.78369324,4942665.98153598,4606047.69916005],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"5","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4619602.85097377,4197210.57207315,3846356.56219067,4656296.57974694,4731967.16459112,5073555.660794,5391989.064122,5650963.93130424,5653687.57949318,4933502.52989144,5069257.87519736,4626580.40537775],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"5","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4598953.45208383,4177857.4166074,3838871.28172083,4629361.55681626,4685586.03630788,5018678.94309697,5357098.7304945,5601717.47486168,5576119.24369685,4832580.64316744,4960852.04959173,4552169.07794741],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"5","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4623706.96481357,4213879.86329844,3856960.21310833,4677823.73740462,4738795.73628405,5083225.31587882,5428703.56375124,5688244.6958872,5683140.43800209,4912891.29471494,5052028.10535585,4645861.23241533],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"5","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4616140.46628524,4195015.60054453,3920322.65714775,4732886.78781886,4786107.23373075,5098700.85727043,5471356.01827499,5696787.22106488,5559486.19527122,4758293.01075169,4974342.22367673,4643901.51926796],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"5","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4590237.06216616,4161129.65789208,3828348.3852076,4644814.48423339,4718931.6339519,5082790.58241712,5450941.97182412,5699346.31239192,5647829.13566237,4881487.97937498,5043611.1636782,4634498.06896407],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"5","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333],"y":[4639453.20174165,4332478.89404935,4073415.35558781,4687974.81712627,4735763.66328012,5000241.43251088,5257830.66328012,5456190.79856936,5457409.79856936,4904456.08428364,5012184.51285507,4700936.29856935],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"5","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]},{"name":"6","data":[{"x":[2005.5,2005.58333333333,2005.66666666667,2005.75,2005.83333333333,2005.91666666667,2006,2006.08333333333,2006.16666666667,2006.25,2006.33333333333,2006.41666666667,2006.5,2006.58333333333,2006.66666666667,2006.75,2006.83333333333,2006.91666666667,2007,2007.08333333333,2007.16666666667,2007.25,2007.33333333333,2007.41666666667,2007.5,2007.58333333333,2007.66666666667,2007.75,2007.83333333333,2007.91666666667,2008,2008.08333333333,2008.16666666667,2008.25,2008.33333333333,2008.41666666667,2008.5,2008.58333333333,2008.66666666667,2008.75,2008.83333333333,2008.91666666667,2009,2009.08333333333,2009.16666666667,2009.25,2009.33333333333,2009.41666666667,2009.5,2009.58333333333,2009.66666666667,2009.75,2009.83333333333,2009.91666666667,2010,2010.08333333333,2010.16666666667,2010.25,2010.33333333333,2010.41666666667,2010.5,2010.58333333333,2010.66666666667,2010.75,2010.83333333333,2010.91666666667,2011,2011.08333333333,2011.16666666667,2011.25,2011.33333333333,2011.41666666667,2011.5,2011.58333333333,2011.66666666667,2011.75,2011.83333333333,2011.91666666667,2012,2012.08333333333,2012.16666666667,2012.25,2012.33333333333,2012.41666666667,2012.5,2012.58333333333,2012.66666666667,2012.75,2012.83333333333,2012.91666666667,2013,2013.08333333333,2013.16666666667,2013.25,2013.33333333333,2013.41666666667,2013.5,2013.58333333333,2013.66666666667,2013.75,2013.83333333333,2013.91666666667,2014,2014.08333333333,2014.16666666667,2014.25,2014.33333333333,2014.41666666667,2014.5,2014.58333333333,2014.66666666667,2014.75,2014.83333333333,2014.91666666667,2015,2015.08333333333,2015.16666666667,2015.25,2015.33333333333,2015.41666666667,2015.5,2015.58333333333,2015.66666666667,2015.75,2015.83333333333,2015.91666666667,2016,2016.08333333333,2016.16666666667,2016.25,2016.33333333333,2016.41666666667,2016.5,2016.58333333333,2016.66666666667,2016.75,2016.83333333333,2016.91666666667,2017,2017.08333333333,2017.16666666667,2017.25,2017.33333333333,2017.41666666667,2017.5,2017.58333333333,2017.66666666667,2017.75,2017.83333333333,2017.91666666667,2018,2018.08333333333,2018.16666666667,2018.25,2018.33333333333,2018.41666666667,2018.5,2018.58333333333,2018.66666666667,2018.75,2018.83333333333,2018.91666666667,2019,2019.08333333333,2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224],"mode":"lines","line":{"color":"rgba(31,119,180,1)","simplyfy":false},"frame":"6","type":"scatter","name":"actual","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4556417.33215598,4608352.19063473,4920447.28882811,5308818.6522776,5590775.71553289,5507786.1692101,4698612.86730991,4867429.00172161,4530794.42598564,4611688.16323384,4182308.27420555,3812841.8081478],"mode":"lines","line":{"color":"rgba(255,127,14,1)","simplyfy":false},"frame":"6","type":"scatter","name":"auto_arima","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4599849.06386018,4663967.5985531,4996359.59413334,5301633.34231846,5567532.99717434,5566598.95201211,4821010.40689378,4947781.7318315,4527755.31841526,4648907.84700911,4235897.65291068,3877589.93622952],"mode":"lines","line":{"color":"rgba(44,160,44,1)","simplyfy":false},"frame":"6","type":"scatter","name":"ets1","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4554733.72384316,4605449.93670568,4937376.25349822,5256233.34980786,5489912.96185494,5484390.88793902,4740048.42039336,4876366.61626044,4465517.76873044,4570429.38010434,4159941.5896482,3806756.67868424],"mode":"lines","line":{"color":"rgba(214,39,40,1)","simplyfy":false},"frame":"6","type":"scatter","name":"ets2","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4564901.62137508,4614839.21392002,4951905.39949017,5281579.74732353,5520953.82833837,5507412.8295166,4764347.95418127,4888795.18394066,4475910.22225272,4587660.33700873,4162168.48148406,3810165.8169425],"mode":"lines","line":{"color":"rgba(148,103,189,1)","simplyfy":false},"frame":"6","type":"scatter","name":"ets3","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4627337.11748396,4679168.37519042,4990261.83348827,5361942.97786304,5586690.07907723,5448251.488966,4645010.56034054,4859733.56351226,4528042.6732882,4615827.93340732,4203889.5662424,3871265.90846242],"mode":"lines","line":{"color":"rgba(140,86,75,1)","simplyfy":false},"frame":"6","type":"scatter","name":"hw1","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4593027.23315722,4664772.75806622,5023991.4861452,5389558.81907895,5635482.69956459,5582794.3215905,4824405.23066968,4986184.89091763,4582539.84845744,4674081.24832202,4238603.5923092,3881156.22105164],"mode":"lines","line":{"color":"rgba(227,119,194,1)","simplyfy":false},"frame":"6","type":"scatter","name":"hw2","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","visible":true},{"x":[2019.16666666667,2019.25,2019.33333333333,2019.41666666667,2019.5,2019.58333333333,2019.66666666667,2019.75,2019.83333333333,2019.91666666667,2020,2020.08333333333],"y":[4677987.05906593,4725775.90521978,4990253.67445055,5247842.90521978,5445489.62921899,5446708.62921899,4893754.91493328,5001483.34350471,4690235.12921899,4790696.91493328,4475675.91493328,4206255.62921899],"mode":"lines","line":{"color":"rgba(127,127,127,1)","simplyfy":false},"frame":"6","type":"scatter","name":"tslm","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","visible":true}],"traces":[0,1,2,3,4,5,6,7]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>We will select the Holt-Winters model (<code>hw1</code>) to calculate the Covid19 effect. We will add the selected forecast to the <code>post_covid</code> dataset:</p>
<pre class="r"><code>post_covid$yhat &lt;- as.numeric(md$forecast$hw1$forecast$mean)
post_covid$upper95 &lt;- as.numeric(md$forecast$hw1$forecast$upper[,2])
post_covid$lower95 &lt;- as.numeric(md$forecast$hw1$forecast$lower[,2])</code></pre>
</div>
<div id="quantify-the-covid19-impact" class="section level4">
<h4>Quantify the Covid19 impact</h4>
<p>After we added forecasted values, it is straightforward to calculate the monthly impact of the Covid19 on the number of passengers at SFO airport:</p>
<pre class="r"><code>post_covid$passengers_loss &lt;- post_covid$y - post_covid$yhat

post_covid</code></pre>
<pre><code>## # A tibble: 7 x 6
##   date             y     yhat  upper95  lower95 passengers_loss
##   &lt;date&gt;       &lt;int&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;
## 1 2020-03-01 1885466 4675574. 4860610. 4490537.       -2790108.
## 2 2020-04-01  138817 4756550. 4963034. 4550066.       -4617733.
## 3 2020-05-01  286570 5062504. 5288613. 4836395.       -4775934.
## 4 2020-06-01  555119 5476241. 5720592. 5231889.       -4921122.
## 5 2020-07-01  765274 5641839. 5903342. 5380336.       -4876565.
## 6 2020-08-01  852578 5650253. 5928018. 5372488.       -4797675.
## 7 2020-09-01  905992 4541560. 4834848. 4248272.       -3635568.</code></pre>
<p>And, the estimated total number of passengers decrease between March and September 2020 as result of the pandemic:</p>
<pre class="r"><code>sum(post_covid$passengers_loss)</code></pre>
<pre><code>## [1] -30414705</code></pre>
<p>Similarly, we can visualize the Covid19 effect on the air passenger traffic:</p>
<pre class="r"><code>plot_ly() %&gt;%
  add_ribbons(x = post_covid$date,
              ymin = post_covid$y,
              ymax = post_covid$yhat,
              line = list(color = &#39;rgba(255, 0, 0, 0.05)&#39;),
              fillcolor = &#39;rgba(255, 0, 0, 0.6)&#39;,
              name = &quot;Estimated Loss&quot;) %&gt;%
  add_segments(x = as.Date(&quot;2020-02-01&quot;), 
               xend = as.Date(&quot;2020-02-01&quot;),
               y = min(df$y),
               yend = max(df$y) * 1.05,
               line = list(color = &quot;black&quot;, dash = &quot;dash&quot;),
               showlegend = FALSE) %&gt;%
  add_annotations(text = &quot;Pre-Covid19&quot;,
                  x = as.Date(&quot;2017-09-01&quot;),
                  y = max(df$y) * 1.05, 
                  showarrow = FALSE) %&gt;%
  add_annotations(text = &quot;Post-Covid19&quot;,
                  x = as.Date(&quot;2020-09-01&quot;),
                  y = max(df$y) * 1.05, 
                  showarrow = FALSE) %&gt;%
  add_annotations(text = paste(&quot;Estimated decrease in&quot;, &quot;&lt;br&gt;&quot;,
                               &quot;passengers volume: ~30M&quot;,
                               sep = &quot;&quot;),
                  x = as.Date(&quot;2020-05-01&quot;),
                  y = 2 * 10 ^ 6, 
                  arrowhead = 1,
                  ax = -130,
                  ay = -40,
                  showarrow = TRUE) %&gt;%
  add_lines(x = df$date,
            y = df$y,
            line = list(color = &quot;#1f77b4&quot;),
            name = &quot;Actual&quot;) %&gt;%
  layout(title = &quot;Covid19 Impact on SFO Air Passenger Traffic&quot;,
         yaxis = list(title = &quot;Number of Passengers&quot;),
         xaxis = list(title = &quot;Time Series Model - Holt-Winters&quot;,
                      range = c(as.Date(&quot;2015-01-01&quot;), as.Date(&quot;2021-01-01&quot;))),
         legend = list(x = 0, y = 0.95))</code></pre>
<div id="htmlwidget-7" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"visdat":{"4a41195ea04f":["function () ","plotlyVisDat"]},"cur_data":"4a41195ea04f","attrs":{"4a41195ea04f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01"],"ymin":[1885466,138817,286570,555119,765274,852578,905992],"ymax":[4675573.74820966,4756549.77479561,5062503.81566185,5476240.63384323,5641839.11286111,5650253.20887009,4541560.26496136],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"color":"rgba(255, 0, 0, 0.05)"},"fillcolor":"rgba(255, 0, 0, 0.6)","name":"Estimated Loss","inherit":true},"4a41195ea04f.1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":"2020-02-01","y":138817,"xend":"2020-02-01","yend":6029558.85,"type":"scatter","mode":"lines","line":{"color":"black","dash":"dash"},"showlegend":false,"inherit":true},"4a41195ea04f.2":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01"],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224,1885466,138817,286570,555119,765274,852578,905992],"type":"scatter","mode":"lines","line":{"color":"#1f77b4"},"name":"Actual","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"annotations":[{"text":"Pre-Covid19","x":"2017-09-01","y":6029558.85,"showarrow":false},{"text":"Post-Covid19","x":"2020-09-01","y":6029558.85,"showarrow":false},{"text":"Estimated decrease in<br>passengers volume: ~30M","x":"2020-05-01","y":2000000,"arrowhead":1,"ax":-130,"ay":-40,"showarrow":true}],"title":"Covid19 Impact on SFO Air Passenger Traffic","yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Passengers"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Time Series Model - Holt-Winters","range":["2015-01-01","2021-01-01"]},"legend":{"x":0,"y":0.95},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"fillcolor":"rgba(255, 0, 0, 0.6)","x":["2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-09-01","2020-09-01","2020-08-01","2020-07-01","2020-06-01","2020-05-01","2020-04-01","2020-03-01"],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"color":"rgba(255, 0, 0, 0.05)"},"name":"Estimated Loss","y":[1885466,138817,286570,555119,765274,852578,905992,905992,4541560.26496136,5650253.20887009,5641839.11286111,5476240.63384323,5062503.81566185,4756549.77479561,4675573.74820966],"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2020-02-01","2020-02-01"],"y":[138817,6029558.85],"type":"scatter","mode":"lines","line":{"color":"black","dash":"dash"},"showlegend":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01"],"y":[3225769,3195866,2740553,2770715,2617333,2671797,2448889,2223024,2708778,2773293,2829000,3071396,3227605,3143839,2720100,2834959,2653887,2698200,2507430,2304990,2820085,2869247,3056934,3263621,3382382,3436417,2957530,3129309,2922500,2903637,2670053,2595676,3127387,3029021,3305954,3453751,3603946,3612297,3004720,3124451,2744485,2962937,2644539,2359800,2925918,3024973,3177100,3419595,3649702,3650668,3191526,3249428,2971484,3074209,2785466,2515361,3105958,3139059,3380355,3612886,3765824,3771842,3356365,3490100,3163659,3167124,2883810,2610667,3129205,3200527,3547804,3766323,3935589,3917884,3564970,3602455,3326859,3441693,3211600,2998119,3472440,3563007,3820570,4107195,4284443,4356216,3819379,3844987,3478890,3443039,3204637,2966477,3593364,3604104,3933016,4146797,4176486,4347059,3781168,3910790,3466878,3814984,3432625,3078405,3765504,3881893,4147096,4321833,4499221,4524918,3919072,4059443,3628786,3855835,3550084,3248144,4001521,4021677,4361140,4558511,4801148,4796653,4201394,4374749,4013814,4129052,3748529,3543639,4137679,4172512,4573996,4922125,5168724,5110638,4543759,4571997,4266481,4343369,3897685,3481405,4335287,4425920,4698067,5134110,5496516,5516837,4736005,4868674,4572702,4660504,4190367,3882181,4674035,4713183,5025595,5427144,5692572,5545859,4649100,4861782,4508606,4576449,4156821,3752763,4599189,4692941,5008001,5466688,5612312,5742437,4471408,4824559,4370463,4720992,4241751,3742224,1885466,138817,286570,555119,765274,852578,905992],"type":"scatter","mode":"lines","line":{"color":"#1f77b4"},"name":"Actual","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="applications" class="section level4">
<h4>Applications</h4>
<p>Once we estimate the decrease in passengers’ number, we can quantify losses caused by the Covid19. For example, if each passenger on average pays $10 airport tax, then the estimated tax loss is about 300 Million USD for the specific period.</p>
<p>In addition, as the underline forecast is a point estimate. Therefore you can leverage the prediction interval to provide a range for the drop in air passenger traffic.</p>
<p>Last but not least, you can use a top-bottom approach and distribute the forecast for some of the available categories in the data. For example, the drop of passengers by</p>
<ul>
<li>Airline provider</li>
<li>Region</li>
<li>Domestic / International flights</li>
</ul>
</div>
<div id="additional-information" class="section level4">
<h4>Additional information</h4>
<p>More details about the packages and tools used on this post:</p>
<ul>
<li>Data:
<ul>
<li><strong>sfo</strong> package - <a href="https://github.com/RamiKrispin/sfo" class="uri">https://github.com/RamiKrispin/sfo</a></li>
<li>San Francisco Data Portal - <a href="https://datasf.org/opendata/" class="uri">https://datasf.org/opendata/</a></li>
<li><strong>dplyr</strong> package - <a href="https://dplyr.tidyverse.org/" class="uri">https://dplyr.tidyverse.org/</a></li>
</ul></li>
<li>Time series analysis:
<ul>
<li><strong>TSstudio</strong> package - <a href="https://github.com/RamiKrispin/TSstudio" class="uri">https://github.com/RamiKrispin/TSstudio</a></li>
<li><code>train_model</code> function documentation - <a href="https://ramikrispin.github.io/TSstudio/reference/train_model.html" class="uri">https://ramikrispin.github.io/TSstudio/reference/train_model.html</a></li>
<li>Great explanation about backtesting from Uber Engineering blog - <a href="https://eng.uber.com/omphalos/" class="uri">https://eng.uber.com/omphalos/</a></li>
</ul></li>
<li>Data visualization:
<ul>
<li><strong>plotly</strong> package - <a href="https://plotly.com/r/" class="uri">https://plotly.com/r/</a></li>
</ul></li>
</ul>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/r/">R</a>

  <a class="tag tag--primary tag--small" href="/tags/time-series/">time-series</a>

  <a class="tag tag--primary tag--small" href="/tags/covid19/">covid19</a>

  <a class="tag tag--primary tag--small" href="/tags/sfo/">sfo</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2020/12/intro-to-usgas/" data-tooltip="Introduction to USgas Package">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2021/01/covid19-effect/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2021/01/covid19-effect/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2021/01/covid19-effect/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 Rami Krispin. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="/2020/12/intro-to-usgas/" data-tooltip="Introduction to USgas Package">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2021/01/covid19-effect/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2021/01/covid19-effect/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2021/01/covid19-effect/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2021%2F01%2Fcovid19-effect%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2021%2F01%2Fcovid19-effect%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2021%2F01%2Fcovid19-effect%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://avatars0.githubusercontent.com/u/12760966?s=400&amp;u=654c914d9df714991b890ea38ac4fce0e55c0d8f&amp;v=4" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Rami Krispin</h4>
    
      <div id="about-card-bio">Time series analysis, forecasting, machine learning, and data visualization</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Data scientist
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Cupertino, CA
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('/images/background.png');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2021\/01\/covid19-effect\/';
          
            this.page.identifier = '\/2021\/01\/covid19-effect\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'hugo-tranquilpeak-theme';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

